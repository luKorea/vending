/*! 版权所有，翻版必究 */!function(e){function n(n){for(var o,a,s=n[0],c=n[1],d=n[2],u=0,p=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);for(l&&l(n);p.length;)p.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,s=1;s<t.length;s++){var c=t[s];0!==r[c]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={28:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var l=c;i.push([584,0]),t()}({584:function(e,n,t){"use strict";t.r(n);t(666);var o=t(2);function r(e){var n=new Date(e);return n.getFullYear()+"-"+(n.getMonth()+1<10?"0"+(n.getMonth()+1):n.getMonth()+1)+"-"+(n.getDate()<10?"0"+n.getDate():n.getDate())+" "+(n.getHours()<10?"0"+n.getHours():n.getHours())+":"+(n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes())+":"+(n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds())}var i=t(74);function a(e){e=e;var n=i.enc.Utf8.parse("yuebaowenhua2020"),t=i.AES.encrypt(e,n,{iv:i.enc.Utf8.parse("A-16-Byte-String"),mode:i.mode.CBC,padding:i.pad.Pkcs7});return String(t)}function s(e){var n=e,t=i.enc.Utf8.parse("yuebaowenhua2020");return i.AES.decrypt(n.toString(),t,{iv:i.enc.Utf8.parse("A-16-Byte-String"),mode:i.mode.CBC,padding:i.pad.Pkcs7}).toString(i.enc.Utf8)}for(var c="",d=0;d<6;d++)c+=Math.ceil(10*Math.random());function l(){var e=new XMLHttpRequest;e.open("POST","/api/order/getVerificationCode",!0),e.setRequestHeader("Content-Type","application/json;charset=utf-8"),e.responseType="blob",e.onload=function(n){if(200==e.status){e.response;var t=this.response,r=new Image;r.width=200,r.height=200,r.onload=function(){},$(".codeImg").attr("src",window.URL.createObjectURL(t))}else Object(o.g)("服务器请求超时")};var n=JSON.stringify({random:c});e.send(n)}l();var u=null;$(".formCont .btn").click(function(){if($('.list input[name="name"]').val()&&$('.list input[name="phone"]').val()&&$('.list input[name="code"]').val()){if(!/^1[3456789]\d{9}$/.test($('.list input[name="phone"').val()))return Object(o.g)("请填写正确的手机号码"),!1;var e=JSON.stringify({phone:$('.list input[name="phone"]').val(),name:$('.list input[name="name"]').val(),code:$('.list input[name="code"]').val(),random:c}),n=JSON.stringify({data:a(e)});Object(o.d)("/api/order/getMailByUser","post",n).then(function(e){var n=s(e.data);0!=JSON.parse(n).length?(u=$('.list input[name="code"]').val(),$(".searchCont").hide(),h(JSON.parse(n)),console.log(JSON.parse(n)),$(".orderListCont").show()):Object(o.g)("查询无数据")}).catch(function(e){Object(o.g)(e.message)})}else Object(o.g)("收货人、手机号与验证码不能为空")}),$(".codeImg").click(function(){c="";for(var e=0;e<6;e++)c+=Math.ceil(10*Math.random());l()});var p=1,f=null;function h(e){f=e;var n="";e.forEach(function(e,t){n+='<li class="orderNameList" indexs="'.concat(t,'">\n                    <div class="listHeader flexC">\n                        <h3>').concat(e.sign_name,"/").concat(e.sign_phone,"</h3>\n                        <p>").concat(0==e.dispatch_status?"未发货":"已发货",'</p>\n                    </div>\n                    <div class="orderListS">\n                        <div class="orderList flex">\n                                <h5>下单时间:<span>').concat(e.time?r(e.time):"",'</span></h5>\n                        </div>\n                        <div class="').concat(e.express_type?"show":"hide",'">\n                            <div class="orderList flex">\n                                <h5>物流/快递公司:<span>').concat(e.express_type,'</span></h5>\n                            </div>\n                            <div class="orderList flex">\n                                <h5>物流/快递单号:<span>').concat(e.express_number,'</span></h5>\n                            </div>\n                            <div class="orderList flex">\n                                <h5>发货时间:<span>').concat(e.express_time?r(e.express_time):"",'</span></h5>\n                            </div>\n                        </div>\n                        <div class="orderList flex">\n                            <h5>收货地址：<span>').concat(e.sign_address,'</span></h5>\n                        </div>\n                        <div class="orderList flex">\n                            <h5>备注：<span>').concat(e.notes,'</span></h5>\n                        </div>\n                        <div class="orderList flex">\n                            <h5>订单金额：<span>￥').concat(e.amount,"</span></h5>\n                        </div>\n                    </div>\n                </li>")}),$(".ordertListBox ul").html(n),setTimeout(function(){1==p&&(p++,refresher.init({id:"ordertListBox",pullDownAction:g,pullUpAction:v})),ordertListBox.refresh()},500)}function g(){setTimeout(function(){var e=JSON.stringify({phone:$('.list input[name="phone"]').val(),name:$('.list input[name="name"]').val(),code:u,random:c}),n=JSON.stringify({data:a(e)});Object(o.d)("/api/order/getMailByUser","post",n).then(function(e){var n=s(e.data);0!=JSON.parse(n).length?(h(JSON.parse(n)),Object(o.g)("刷新成功")):Object(o.g)("查询无数据")}).catch(function(e){$(".orderListCont").hide(),$(".searchCont").show(),Object(o.g)("请重新查询")}),document.getElementById("ordertListBox").querySelector(".pullDownIcon").style.display="none",document.getElementById("ordertListBox").querySelector(".pullDownLabel").innerHTML="刷新成功",setTimeout(function(){ordertListBox.refresh(),document.getElementById("ordertListBox").querySelector(".pullDownLabel").innerHTML=""},1e3)},1e3)}function v(){ordertListBox.refresh()}$(".orderListCont").on("click",".orderNameList",function(){!function(e){var n="";e.goodsList.forEach(function(e){n+='<li class="list flex">\n                <div class="img">\n                    <img src="'.concat(e.goods_images,'" />\n                </div>\n                <div class="goodsInform">\n                    <h5>').concat(e.good_name_core,'</h5>\n                    <div class="flexC of">\n                        <p>￥').concat(e.price,"</p>\n                        <p>X ").concat(e.count,"</p>\n                    </div>\n                    <h5>总价：￥").concat(Number(e.price)*Number(e.count),'</h5>\n                    <p style="margin:5px 0;">已退款数量：').concat(e.refund_count?e.refund_count:0,"</p>\n                </div>\n            </li>")}),$(".goodsListCont").html(n)}(f[$(this).attr("indexs")]),$(".goodsCont").show()}),$(".goodsBox").click(function(){event.stopPropagation()}),$(".goodsCont").click(function(){$(this).hide()}),$(".goodsHeader img").click(function(){$(".goodsCont").hide()}),$(".back").click(function(){$(".orderListCont").hide(),$(".searchCont").show(),c="";for(var e=0;e<6;e++)c+=Math.ceil(10*Math.random());l()})},666:function(e,n){}});