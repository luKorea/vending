(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db4b7"],{"6ef8":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("avue-crud",e._g(e._b({attrs:{page:e.page},on:{"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"bicId",fn:function(t){return o("div",{staticClass:"row-c"},[1!=t.row.flag?o("el-tooltip",{attrs:{content:"您的可用余额低于预警值，请及时充值",placement:"top"}},[o("svg-icon",{staticStyle:{"font-size":"25px","margin-right":"10px"},attrs:{"icon-class":"warning"}})],1):e._e(),o("span",[e._v(e._s(t.row.bicId))])],1)}},{key:"menuBtn",fn:function(t){return[e.hasPermission(e.config.getTopUpLog)?o("el-dropdown-item",{nativeOn:{click:function(o){return e.rowView(Object.assign({},t.row,{formslot:"reduceBalance",viewTitle:"商家["+t.row.companyName+"]的充值/调减记录"}),t.index)}}},[e._v(" 充值/调减记录")]):e._e(),e.hasPermission(e.config.orderStatistics)?o("el-dropdown-item",{nativeOn:{click:function(o){return e.rowView(Object.assign({},t.row,{formslot:"usageRecord",viewTitle:"商家["+t.row.companyName+"]的使用记录"}),t.index)}}},[e._v(" 使用记录")]):e._e()]}},{key:"reduceBalanceForm",fn:function(t){return o("div",{},[e.form&&e.form.formslot==t.column.prop?o("balanceRecord",{attrs:{Pconfig:e.config,row:t.row}}):e._e()],1)}},{key:"usageRecordForm",fn:function(t){return o("div",{},[e.form&&e.form.formslot==t.column.prop?o("usageRecord",{attrs:{Pconfig:e.config,row:t.row}}):e._e()],1)}},{key:"getExportTaskListForm",fn:function(t){return o("div",{},[e.form&&e.form.formslot==t.column.prop?o("exportTask",{attrs:{title:"导出商家",Pconfig:e.config,row:t.row,type:"3",exportParams:e.params}}):e._e()],1)}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},"avue-crud",e.bindVal,!1),e.onEvent),[o("template",{slot:"menuLeft"},[e.hasPermission(e.config.exportExcel)?o("el-button",{staticClass:"el-icon-download",attrs:{size:"small"},on:{click:function(t){return e.rowView({formslot:"getExportTaskList",viewTitle:"导出商家"},0)}}},[e._v("导出商家")]):e._e()],1)],2)],1)},i=[],n=o("1c5e"),r=o("f374"),s=(o("b4fb"),o("08ba"),o("d718")),l=o("82ff"),c=o("e381"),p=o("7e3b"),d=o("47ad"),m=o("22a4"),u=o("99a4"),y={components:{uploadExcel:c["a"],balanceRecord:p["a"],usageRecord:d["a"],excelTask:u["a"],exportTask:m["a"]},mixins:[s["a"],l["a"]],props:{my:{}},data:function(){return{config:{detail:"",save:"",delete:"",update:"",list:"/myCompany/getCompany",orderStatistics:"/myCompany/orderStatistics",getTopUpLog:"/myCompany/getTopUpLog",findDayOrder:"/myCompany/findDayOrder",getOrderByDayAndbicId:"/myCompany/getOrderByDayAndbicId",getQualityTestingByDayAndbicName:"/myCompany/getQualityTestingByDayAndbicName",exportExcel:"/myCompany/deriveExcel",exportTask:"/myCompany/getExportTaskList"},method:{delete:"GET"},rowKey:"companyId",option:Object(r["a"])({index:!0,addBtn:!1,editBtn:!1,delBtn:!1,menuType:"menu",menuWidth:120,viewBtn:!1,column:[].concat(Object(n["a"])(this.column_def("商家ID","bicId",!0,{editDisabled:!0,fixed:"left",viewDisplay:!1})),Object(n["a"])(this.column_def("商家名称","companyName",!0,{fixed:"left",viewDisplay:!1})),Object(n["a"])(this.column_def("是否启用","startUsingStr",!1,{hide:!0,addDisplay:!1,editDisplay:!1,viewDisplay:!1})),Object(n["a"])(this.column_switch("是否启用","startUsing",!1,{hide:!0,value:2,addDisplay:!1,editDisplay:!1,viewDisplay:!1,dicData:[{value:1,label:"否"},{value:2,label:"是"}]})),Object(n["a"])(this.column_money("余额","balance",!0,{viewDisplay:!1,editDisabled:!0})),Object(n["a"])(this.column_money("冻结金额","freezeMoney",!0,{addDisplay:!1,viewDisplay:!1,editDisplay:!1})),Object(n["a"])(this.column_money("可用余额","usableBalance",!0,{addDisplay:!1,viewDisplay:!1,editDisplay:!1})),Object(n["a"])(this.column_money("余额预警值","moneyRemind",!0,{viewDisplay:!1,editDisabled:!0})),Object(n["a"])(this.column_money("充值金额","Recharge",!0,{addDisplay:!1,viewDisplay:!1,display:!0,hide:!0})),Object(n["a"])(this.column_money("调减金额","Reduce",!0,{addDisplay:!1,viewDisplay:!1,display:!0,hide:!0})),Object(n["a"])(this.column_textarea("备注","remark",!1,{viewDisplay:!1,editDisplay:!0})))},this.group_def([].concat(Object(n["a"])(this.group_column_formslot("uploadExcelCompany",{msg:"若商家在系统中已存在，余额将会以系统中余额为准，不做修改!",uploadData:{title:"商家",url:"/company/excelCompany",href:"./assets/uploadCompany.xlsx"}})),Object(n["a"])(this.group_column_formslot("uploadExcelOrder",{uploadData:{title:"质检费",url:"/quelityTesting/excelOrder",href:"./assets/uploadQuality.xlsx"}})),Object(n["a"])(this.group_column_formslot("reduceBalance",{})),Object(n["a"])(this.group_column_formslot("usageRecord",{})),Object(n["a"])(this.group_column_formslot("getExportTaskList",{})),Object(n["a"])(this.group_column_formslot("exportQualityTesting",{})))))}},created:function(){},methods:{listAfter:function(e){this.data=e,this.page.total=e.length,this.page.pageSize=this.page.total},openBefore:function(e){var t=this;!t.form.editType||"Recharge"!=t.form.editType&&"Reduce"!=t.form.editType?(t.option.column.forEach((function(e){"Reduce"==e.prop&&(e.display=!1),"Recharge"==e.prop&&(e.display=!1),"companyName"==e.prop&&(e.editDisabled=!1),"moneyRemind"==e.prop&&(e.editDisplay=!0,e.editDisabled=!1),"balance"==e.prop&&(e.editDisplay=!1)})),t.option=Object.assign(t.option,{})):t.option.column.forEach((function(e){"Reduce"==e.prop&&"Recharge"==t.form.editType&&(e.display=!1),"Recharge"==e.prop&&"Reduce"==t.form.editType&&(e.display=!1),"Recharge"==e.prop&&"Recharge"==t.form.editType&&(e.display=!0),"Reduce"==e.prop&&"Reduce"==t.form.editType&&(e.display=!0),"moneyRemind"==e.prop&&(e.editDisplay=!1),"companyName"==e.prop&&(e.editDisabled=!0),"balance"==e.prop&&(e.editDisplay=!0)})),this.option.editTitle=this.form.editTitle,this.option=Object.assign(this.option,{}),console.log(this.option)},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 1==t.flag?"":"warning-row "}}},f=y,g=o("5d22"),b=Object(g["a"])(f,a,i,!1,null,null,null);t["default"]=b.exports}}]);