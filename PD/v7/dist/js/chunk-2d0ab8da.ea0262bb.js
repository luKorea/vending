(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab8da"],{1687:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("avue-crud",e._g(e._b({attrs:{search:e.search,"before-open":e.beforeOpen,page:e.page},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},"avue-crud",e.bindVal,!1),e.onEvent))],1)},r=[],a=o("f374"),i=(o("2eeb"),o("08ba"),o("d718")),l=o("5880"),d=o("337a"),c=o("82ff"),s={components:{},computed:Object(a["a"])({},Object(l["mapGetters"])(["name"])),mixins:[i["a"],c["a"]],data:function(){return{search:{conditionTwo:""},config:{detail:"/role/findByRId",save:"/role/addRole",delete:"/role/deRoleByUId",update:"/role/updateRole",list:"/role/findAll"},method:{detail:"GET",delete:"GET",list:"GET"},rowKey:"id",option:{addBtn:!0,viewBtn:!1,column:[{label:"角色名",prop:"roleName",fixed:"left",searchSpan:6,search:!0,minWidth:180,rules:[{required:!0,message:"请输入角色名",trigger:"blur"}]},{label:"备注",prop:"remark",type:"textarea",minWidth:180},{label:"用户角色",prop:"controlList",minWidth:180,type:"checkbox",all:!0,multiple:!0,span:24,hide:!0,dicData:[]},{label:"创建人",prop:"addUser",display:!1,formatter:function(e,t,o,n){return e.addUser?e.addUser.username:""}},{label:"创建时间",prop:"addTime",display:!1,minWidth:180},{label:"最后更改人",prop:"updateUser",display:!1,formatter:function(e,t,o,n){return e.updateUser?e.updateUser.username:""}},{label:"最后更改时间",prop:"updateTime",display:!1,minWidth:180}]}}},methods:{delBefore:function(e){var t=e;return t={roleId:e.roleId},t},openBefore:function(e){var t=this;"edit"==e&&(t.form.id=t.form.roleId),t.form=Object.assign(t.form,t.form)},openAfter:function(e,t,o,n){var r=this;t.controlList=e.data.map((function(e){return e.controlId})),r.form=Object.assign(t,{})},listAfter:function(e){this.data.forEach((function(e){e.controlList=[]}))},findControl:function(){var e=this;Object(d["a"])("/role/findControl",{},"GET").then((function(t){var o={};t.data.forEach((function(e){o[e.controlId]=e}));var n=[];for(var r in o)n.push(o[r]);e.option.column.forEach((function(e){"controlList"==e.prop&&(e.dicData=n.map((function(e){return{label:e.controlName,value:e.controlId}})))}))})).catch((function(e){console.log(e)}))}},created:function(){this.findControl()}},u=s,p=o("5d22"),f=Object(p["a"])(u,n,r,!1,null,null,null);t["default"]=f.exports}}]);