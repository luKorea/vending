(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab8da"],{1687:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("avue-crud",e._g(e._b({attrs:{search:e.search,page:e.page},on:{"update:search":function(t){e.search=t},"update:page":function(t){e.page=t}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},"avue-crud",e.bindVal,!1),e.onEvent))],1)},a=[],r=o("1c5e"),i=o("f374"),c=(o("b4fb"),o("2eeb"),o("08ba"),o("d718")),d=o("5880"),l=o("337a"),s=o("82ff"),u={computed:Object(i["a"])({},Object(d["mapGetters"])(["name"])),mixins:[c["a"],s["a"]],data:function(){return{search:{conditionTwo:""},config:{detail:"/role/findByRId",save:"/role/addRole",delete:"/role/deRoleByUId",update:"/role/updateRole",list:"/role/findAll"},method:{detail:"GET",delete:"GET",list:"GET"},rowKey:"id",option:{addBtn:!0,viewBtn:!1,column:[].concat(Object(r["a"])(this.column_def("角色名","roleName",!0,{search:!0,searchSpan:6,fixed:"left",minWidth:180})),Object(r["a"])(this.column_textarea("备注","remark",!1,{minWidth:180})),[{label:"用户角色",prop:"controlList",minWidth:180,type:"checkbox",all:!0,multiple:!0,span:24,hide:!0,dicData:[]},{label:"创建人",prop:"addUser",display:!1,formatter:function(e,t,o,n){return e.addUser?e.addUser.username:""}},{label:"创建时间",prop:"addTime",display:!1,minWidth:180},{label:"最后更改人",prop:"updateUser",display:!1,formatter:function(e,t,o,n){return e.updateUser?e.updateUser.username:""}},{label:"最后更改时间",prop:"updateTime",display:!1,minWidth:180}])}}},methods:{delBefore:function(e){var t=e;return t={roleId:e.roleId},t},openBefore:function(e){var t=this;"edit"==e&&(t.form.id=t.form.roleId),t.form=Object.assign(t.form,t.form)},openAfter:function(e,t,o,n){var a=this;t.controlList=e.data.map((function(e){return e.controlId})),a.form=Object.assign(t,{})},listAfter:function(e){this.data.forEach((function(e){e.controlList=[]}))},findControl:function(){var e=this;Object(l["a"])("/role/findControl",{},"GET").then((function(t){var o={};t.data.forEach((function(e){o[e.controlId]=e}));var n=[];for(var a in o)n.push(o[a]);e.option.column.forEach((function(e){"controlList"==e.prop&&(e.dicData=n.map((function(e){return{label:e.controlName,value:e.controlId}})))}))})).catch((function(e){console.log(e)}))}},created:function(){this.findControl()}},f=u,p=o("5d22"),m=Object(p["a"])(f,n,a,!1,null,null,null);t["default"]=m.exports}}]);